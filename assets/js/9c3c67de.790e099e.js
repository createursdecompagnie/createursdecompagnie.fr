"use strict";(self.webpackChunkcreateursdecompagnie_fr=self.webpackChunkcreateursdecompagnie_fr||[]).push([[657],{5672:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(6540),a=r(8796),s=r(6025),c=r(3656),i=r(9921),l=r(6347),o=r(3032),m=r(9036),d=r(6412),u=r(4848);const h=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),g={[o.Y.cdc2025]:"CDC\u202f2025",[o.Y.cdc2022]:"CDC\u202f2022",[o.Y.sct]:"Sans\u202fCroquettes\u202fTwitch"};function x(e){const[t,r]=(0,n.useState)("00:00");return(0,n.useEffect)(()=>{if(!e)return;const t=new Date(e);function n(){const e=Date.now()-t.getTime(),n=Math.floor(e/1e3),a=Math.floor(n/3600),s=Math.floor(n%3600/60),c=n%60,i=e=>String(e).padStart(2,"0");r(a>0?`${a}:${i(s)}:${i(c)}`:`${s}:${i(c)}`)}n();const a=setInterval(n,1e3);return()=>clearInterval(a)},[e]),t}function p({gameName:e,viewersCount:t,elapsed:r,centered:n=!1}){return(0,u.jsxs)("div",{className:"margin-top--sm "+(n?"text--center":""),children:[e&&(0,u.jsxs)("span",{className:"badge badge--transparent",children:["\ud83c\udfae ",e]}),void 0!==t&&(0,u.jsxs)(u.Fragment,{children:["\xa0",(0,u.jsxs)("span",{className:"badge badge--transparent",children:["\ud83d\udc41\ufe0f ",(0,u.jsx)(d.z,{value:t,defaultStartValue:null})]})]}),r&&(0,u.jsxs)(u.Fragment,{children:["\xa0",(0,u.jsxs)("span",{className:"badge badge--transparent",children:["\u23f1\ufe0f ",r]})]})]})}function f({member:e,liveInfo:t,activeGroup:r}){const n=e.socials?.twitch?.id,a=n?t[n]:void 0,s=x(a?.stream?.createdAt),c=(0,m.u3)(e,r);return(0,u.jsx)("a",{href:c,className:"text--no-decoration text--color-content",children:(0,u.jsxs)("div",{className:"card margin-bottom--lg shadow--tl",children:[(0,u.jsx)("div",{className:"card__header text--center",children:(0,u.jsx)("h3",{children:(0,m.Vg)(e)})}),(0,u.jsxs)("div",{className:"card__body",children:[(0,u.jsx)(m.OP,{member:e,size:m.vM.ExtraLarge,orientation:m.Ap.Vertical,className:"margin-bottom--sm"}),a?.stream&&(0,u.jsx)(p,{gameName:a.stream.game?.displayName,viewersCount:a.viewersCount,elapsed:s,centered:!0})]})]})})}function j({activeGroup:e,onToggle:t}){return(0,u.jsx)("div",{className:"row margin-vert--lg",children:(0,u.jsx)("div",{className:"col",children:Object.entries(g).map(([r,n])=>{const a=r,s=e===a;return(0,u.jsx)("button",{className:"button button--secondary margin-right--sm margin-bottom--sm "+(s?"":"button--outline"),onClick:()=>t(a),children:n},a)})})})}function b({title:e,members:t,liveInfo:r,className:n="",activeGroup:a}){return 0===t.length?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:n,children:e}),(0,u.jsx)("div",{className:"row",children:t.map(e=>(0,u.jsx)("div",{className:"col col--3",children:(0,u.jsx)(f,{member:e,liveInfo:r,activeGroup:a})},e.id))})]})}function v({channelLogin:e,parent:t}){return(0,u.jsxs)("div",{className:"row row--no-gutters margin--none padding--none twitch-live-modules",children:[(0,u.jsx)("div",{className:"col col--8 player",children:(0,u.jsx)("iframe",{src:`https://player.twitch.tv/?channel=${e}&muted=false&parent=${t}`,height:"100%",width:"100%",allowFullScreen:!0,title:"Twitch Live Player"})}),(0,u.jsx)("div",{className:"col chat",children:(0,u.jsx)("iframe",{title:"TwitchChat",height:"100%",width:"100%",src:`https://www.twitch.tv/embed/${e}/chat?darkpopout&parent=${t}`})})]})}function w({member:e}){const t=(0,i.W)(),{cdc2025:r,groups:n}=e;if(!r||!n?.includes(o.Y.cdc2025))return null;const a="https://streamlabscharity.com/teams/@createurs-de-compagnie-2025/cdc2025",s=r.streamlabscharityId?`${a}?member=${r.streamlabscharityId}`:`${a}?member=452020463900692480`,c=t.members.find(e=>e.memberId===r.streamlabscharityId),l=c?.totalAmount/100||0,m=t.totalRaised/100;return(0,u.jsxs)("div",{className:"row row--no-gutters margin--none padding--none margin-top--md donations",children:[(0,u.jsx)("div",{className:"col col--6 margin-bottom--md",children:(0,u.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:r.streamlabscharityId?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"button button--primary donate",children:"Faire un don sur sa cagnotte :"}),(0,u.jsx)("div",{className:"button button--secondary personal-pot",children:(0,u.jsx)(d.z,{value:l,format:h})})]}):(0,u.jsx)("button",{className:"button button--primary",children:"Faire un don pour CDC\u202f2025"})})}),(0,u.jsx)("div",{className:"col text--right margin-bottom--md",children:(0,u.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:(0,u.jsxs)("button",{className:"button button--primary button--outline total",children:["Total r\xe9colt\xe9 : ",(0,u.jsx)(d.z,{value:m,format:h})]})})})]})}function N({member:e}){const{cdc2025:t,groups:r}=e,n=e?.cdc2025?.goals??[],a=(0,i.W)();if(!t||!r?.includes(o.Y.cdc2025)||!n||0===n.length)return null;const s=a.members.find(e=>e.memberId===t.streamlabscharityId),c=s?.totalAmount/100||0;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:"margin-top--md",children:"Objectifs"}),(0,u.jsx)("table",{className:"donation-goals",children:(0,u.jsx)("tbody",{children:n.map((e,t)=>{const r=c,n=e.amount??0,a=n>0?Math.min(100,r/n*100):0;return(0,u.jsxs)("tr",{style:{"--progress":`${a}%`},children:[(0,u.jsx)("td",{className:"goal-description",children:e.description}),(0,u.jsxs)("td",{className:"goal-amount",children:[e.amount,"\u202f\u20ac"]})]},t)})})})]})}function y(){const e=(0,m.$1)(),t=(0,l.zy)(),r=(0,l.W6)(),i=(0,s.Ay)("/les-createurices"),o=(0,c.q)(),d=new URLSearchParams(t.search),[h,f]=(0,n.useState)(()=>d.getAll("group").find(e=>e in g)||null),y=function(e,t){const r=t.get("twitch");return e.find(e=>r&&e.socials?.twitch?.user_data?.login===r)}(e,d),F=function(e,t){const r=t.getAll("group").find(e=>e in g);return r?e.filter(e=>e.groups?.includes(r)):e}(e,d),{live:A,offline:C}=function(e,t){const r=[],n=[];return e.forEach(e=>{const a=e.socials?.twitch?.id;a&&t[a]?.isLive?r.push(e):n.push(e)}),r.sort((e,r)=>{const n=e.socials.twitch.id,a=r.socials.twitch.id,s=new Date(t[n]?.stream?.createdAt).getTime()||0;return(new Date(t[a]?.stream?.createdAt).getTime()||0)-s}),{live:r,offline:n}}(F,o),I=y?.socials?.twitch?.id,$=I?o[I]:void 0,S=x($?.stream?.createdAt),D="undefined"!=typeof window?window.location.hostname:"";(0,n.useEffect)(()=>{const e=new URLSearchParams(t.search).getAll("group").find(e=>e in g)||null;f(e)},[t.search]);return(0,u.jsx)(a.A,{children:(0,u.jsxs)("main",{className:"container container--fluid margin-vert--lg",children:[(0,u.jsx)("h1",{className:"text--center",children:"Les cr\xe9ateur\xb7ices"}),y&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"row margin-vert--lg",children:(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(m.OP,{member:y,name:(0,u.jsx)("h2",{className:"margin-bottom--none",children:(0,m.Vg)(y)}),subtitle:(0,u.jsxs)(u.Fragment,{children:[$?.title,$?.stream&&(0,u.jsx)(p,{gameName:$.stream.game?.displayName,viewersCount:$.viewersCount,elapsed:S})]}),size:m.vM.ExtraLarge})})}),(0,u.jsx)(v,{channelLogin:y.socials.twitch.user_data.login,parent:D}),(0,u.jsx)(w,{member:y}),(0,u.jsx)(N,{member:y})]}),(0,u.jsx)("div",{id:"filtres"}),(0,u.jsxs)("h2",{className:"margin-top--xl",children:["Filtres ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"text--light",children:(0,u.jsxs)("small",{children:[F.length,"/",e.length," cr\xe9ateur\xb7ices"]})})]}),(0,u.jsx)(j,{activeGroup:h,onToggle:e=>{const n=new URLSearchParams(t.search);n.delete("group"),h!==e&&n.append("group",e),r.push({pathname:i,search:n.toString(),hash:"filtres"}),f(h!==e?e:null)}}),(0,u.jsx)(b,{activeGroup:h,title:"En direct en ce moment :",members:A,liveInfo:o,className:"margin-top--xl"}),(0,u.jsx)(b,{activeGroup:h,title:"D'autres cr\xe9ateur\xb7ices :",members:C,liveInfo:o,className:"margin-top--lg"})]})})}},6412:(e,t,r)=>{r.d(t,{z:()=>s});var n=r(6540),a=r(4848);const s=({value:e,defaultStartValue:t=0,duration:r=1500,format:s=e=>e.toFixed(0)})=>{const[c,i]=(0,n.useState)(null!=t?t:e),l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{const t=c,n=e-t,a=performance.now(),s=e=>{const c=e-a,o=Math.min(c/r,1),m=1-Math.pow(1-o,3);i(t+n*m),o<1&&(l.current=requestAnimationFrame(s))};return l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(s),()=>l.current&&cancelAnimationFrame(l.current)},[e,r]),(0,a.jsx)(a.Fragment,{children:s(c)})}}}]);