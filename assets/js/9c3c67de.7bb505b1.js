"use strict";(self.webpackChunkcreateursdecompagnie_fr=self.webpackChunkcreateursdecompagnie_fr||[]).push([[657],{5672:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(6540),r=s(9851),n=s(6025),i=s(3656),c=s(6347),l=s(3032),o=s(9036),d=s(4848);const m={[l.Y.cdc2025]:"CDC 2025",[l.Y.cdc2022]:"CDC 2022",[l.Y.sct]:"Sans Croquettes Twitch"};function h(e){const[t,s]=(0,a.useState)("00:00");return(0,a.useEffect)(()=>{if(!e)return;const t=new Date(e);function a(){const e=Date.now()-t.getTime(),a=Math.floor(e/1e3),r=Math.floor(a/3600),n=Math.floor(a%3600/60),i=a%60,c=e=>String(e).padStart(2,"0");s(r>0?`${r}:${c(n)}:${c(i)}`:`${n}:${c(i)}`)}a();const r=setInterval(a,1e3);return()=>clearInterval(r)},[e]),t}function u({gameName:e,viewersCount:t,elapsed:s,centered:a=!1}){return(0,d.jsxs)("div",{className:"margin-top--sm "+(a?"text--center":""),children:[e&&(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83c\udfae ",e]}),void 0!==t&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83d\udc41\ufe0f ",t]})]}),s&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\u23f1\ufe0f ",s]})]})]})}function g({member:e,liveInfo:t,activeGroup:s}){const a=e.socials?.twitch?.id,r=a?t[a]:void 0,n=h(r?.stream?.createdAt),i=(0,o.u3)(e,s);return(0,d.jsx)("a",{href:i,className:"text--no-decoration",style:{color:"var(--ifm-color-content)"},children:(0,d.jsxs)("div",{className:"card margin-bottom--lg shadow--tl",children:[(0,d.jsx)("div",{className:"card__header text--center",children:(0,d.jsx)("h3",{children:(0,o.Vg)(e)})}),(0,d.jsxs)("div",{className:"card__body",children:[(0,d.jsx)(o.OP,{member:e,size:o.vM.ExtraLarge,orientation:o.Ap.Vertical,className:"margin-bottom--sm"}),r?.stream&&(0,d.jsx)(u,{gameName:r.stream.game?.displayName,viewersCount:r.viewersCount,elapsed:n,centered:!0})]})]})})}function p({activeGroup:e,onToggle:t}){return(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:Object.entries(m).map(([s,a])=>{const r=s,n=e===r;return(0,d.jsx)("button",{className:"button button--secondary margin-right--sm "+(n?"":"button--outline"),onClick:()=>t(r),children:a},r)})})})}function x({title:e,members:t,liveInfo:s,className:a="",activeGroup:r}){return 0===t.length?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:a,children:e}),(0,d.jsx)("div",{className:"row",children:t.map(e=>(0,d.jsx)("div",{className:"col col--3",children:(0,d.jsx)(g,{member:e,liveInfo:s,activeGroup:r})},e.id))})]})}function f({channelLogin:e,parent:t}){return(0,d.jsxs)("div",{className:"row row--no-gutters margin--none padding--none",style:{border:"4px solid var(--ifm-color-primary)",borderRadius:"5px",overflow:"hidden"},children:[(0,d.jsx)("div",{className:"col col--8",style:{minHeight:"30rem",aspectRatio:"16/9"},children:(0,d.jsx)("iframe",{src:`https://player.twitch.tv/?channel=${e}&muted=false&parent=${t}`,height:"100%",width:"100%",allowFullScreen:!0,title:"Twitch Live Player",style:{display:"block"}})}),(0,d.jsx)("div",{className:"col",style:{minHeight:"25rem"},children:(0,d.jsx)("iframe",{title:"TwitchChat",height:"100%",width:"100%",src:`https://www.twitch.tv/embed/${e}/chat?darkpopout&parent=${t}`})})]})}function v(){const e=(0,o.$1)(),t=(0,c.zy)(),s=(0,c.W6)(),l=(0,n.Ay)("/les-createurices"),g=(0,i.q)(),v=new URLSearchParams(t.search),[j,w]=(0,a.useState)(()=>v.getAll("group").find(e=>e in m)||null),N=function(e,t){const s=t.get("twitch");return e.find(e=>s&&e.socials?.twitch?.user_data?.login===s)}(e,v),b=function(e,t){const s=t.getAll("group").find(e=>e in m);return s?e.filter(e=>e.groups?.includes(s)):e}(e,v),{live:y,offline:C}=function(e,t){const s=[],a=[];return e.forEach(e=>{const r=e.socials?.twitch?.id;r&&t[r]?.isLive?s.push(e):a.push(e)}),s.sort((e,s)=>{const a=e.socials.twitch.id,r=s.socials.twitch.id,n=new Date(t[a]?.stream?.createdAt).getTime()||0;return(new Date(t[r]?.stream?.createdAt).getTime()||0)-n}),{live:s,offline:a}}(b,g),A=N?.socials?.twitch?.id,L=A?g[A]:void 0,S=h(L?.stream?.createdAt),$="undefined"!=typeof window?window.location.hostname:"";(0,a.useEffect)(()=>{const e=new URLSearchParams(t.search).getAll("group").find(e=>e in m)||null;w(e)},[t.search]);return(0,d.jsx)(r.A,{children:(0,d.jsxs)("main",{className:"container container--fluid margin-vert--lg",children:[(0,d.jsx)("h1",{className:"text--center",children:"Les cr\xe9ateur\xb7ices"}),N&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:(0,d.jsx)(o.OP,{member:N,name:(0,o.Vg)(N),subtitle:(0,d.jsxs)(d.Fragment,{children:[L?.title,L?.stream&&(0,d.jsx)(u,{gameName:L.stream.game?.displayName,viewersCount:L.viewersCount,elapsed:S})]}),size:o.vM.ExtraLarge})})}),(0,d.jsx)(f,{channelLogin:N.socials.twitch.user_data.login,parent:$})]}),(0,d.jsx)("div",{id:"filtres"}),(0,d.jsxs)("h2",{className:"margin-top--xl",children:["Filtres ",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"text--light",children:(0,d.jsxs)("small",{children:[b.length,"/",e.length," cr\xe9ateur\xb7ices"]})})]}),(0,d.jsx)(p,{activeGroup:j,onToggle:e=>{const a=new URLSearchParams(t.search);a.delete("group"),j!==e&&a.append("group",e),s.push({pathname:l,search:a.toString(),hash:"filtres"}),w(j!==e?e:null)}}),(0,d.jsx)(x,{activeGroup:j,title:"En direct en ce moment :",members:y,liveInfo:g,className:"margin-top--xl"}),(0,d.jsx)(x,{activeGroup:j,title:"D'autres cr\xe9ateur\xb7ices :",members:C,liveInfo:g,className:"margin-top--lg"})]})})}}}]);