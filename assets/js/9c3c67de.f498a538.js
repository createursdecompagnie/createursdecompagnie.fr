"use strict";(self.webpackChunkcreateursdecompagnie_fr=self.webpackChunkcreateursdecompagnie_fr||[]).push([[657],{5672:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var s=r(6540),n=r(9851),a=r(6025),c=r(3656),i=r(9921),l=r(6347),o=r(3032),m=r(9036),d=r(4848);const u={[o.Y.cdc2025]:"CDC\u202f2025",[o.Y.cdc2022]:"CDC\u202f2022",[o.Y.sct]:"Sans\u202fCroquettes\u202fTwitch"};function h(e){const[t,r]=(0,s.useState)("00:00");return(0,s.useEffect)(()=>{if(!e)return;const t=new Date(e);function s(){const e=Date.now()-t.getTime(),s=Math.floor(e/1e3),n=Math.floor(s/3600),a=Math.floor(s%3600/60),c=s%60,i=e=>String(e).padStart(2,"0");r(n>0?`${n}:${i(a)}:${i(c)}`:`${a}:${i(c)}`)}s();const n=setInterval(s,1e3);return()=>clearInterval(n)},[e]),t}function g({gameName:e,viewersCount:t,elapsed:r,centered:s=!1}){return(0,d.jsxs)("div",{className:"margin-top--sm "+(s?"text--center":""),children:[e&&(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83c\udfae ",e]}),void 0!==t&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83d\udc41\ufe0f ",t]})]}),r&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\u23f1\ufe0f ",r]})]})]})}function p({member:e,liveInfo:t,activeGroup:r}){const s=e.socials?.twitch?.id,n=s?t[s]:void 0,a=h(n?.stream?.createdAt),c=(0,m.u3)(e,r);return(0,d.jsx)("a",{href:c,className:"text--no-decoration text--color-content",children:(0,d.jsxs)("div",{className:"card margin-bottom--lg shadow--tl",children:[(0,d.jsx)("div",{className:"card__header text--center",children:(0,d.jsx)("h3",{children:(0,m.Vg)(e)})}),(0,d.jsxs)("div",{className:"card__body",children:[(0,d.jsx)(m.OP,{member:e,size:m.vM.ExtraLarge,orientation:m.Ap.Vertical,className:"margin-bottom--sm"}),n?.stream&&(0,d.jsx)(g,{gameName:n.stream.game?.displayName,viewersCount:n.viewersCount,elapsed:a,centered:!0})]})]})})}function x({activeGroup:e,onToggle:t}){return(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:Object.entries(u).map(([r,s])=>{const n=r,a=e===n;return(0,d.jsx)("button",{className:"button button--secondary margin-right--sm margin-bottom--sm "+(a?"":"button--outline"),onClick:()=>t(n),children:s},n)})})})}function j({title:e,members:t,liveInfo:r,className:s="",activeGroup:n}){return 0===t.length?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:s,children:e}),(0,d.jsx)("div",{className:"row",children:t.map(e=>(0,d.jsx)("div",{className:"col col--3",children:(0,d.jsx)(p,{member:e,liveInfo:r,activeGroup:n})},e.id))})]})}function b({channelLogin:e,parent:t}){return(0,d.jsxs)("div",{className:"row row--no-gutters margin--none padding--none twitch-live-modules",children:[(0,d.jsx)("div",{className:"col col--8 player",children:(0,d.jsx)("iframe",{src:`https://player.twitch.tv/?channel=${e}&muted=false&parent=${t}`,height:"100%",width:"100%",allowFullScreen:!0,title:"Twitch Live Player"})}),(0,d.jsx)("div",{className:"col chat",children:(0,d.jsx)("iframe",{title:"TwitchChat",height:"100%",width:"100%",src:`https://www.twitch.tv/embed/${e}/chat?darkpopout&parent=${t}`})})]})}function f({member:e}){const t=(0,i.W)(),{cdc2025:r,groups:s}=e;if(!r||!s?.includes(o.Y.cdc2025))return null;const n="https://streamlabscharity.com/teams/@createurs-de-compagnie-2025/cdc2025",a=r.streamlabscharityId?`${n}?member=${r.streamlabscharityId}`:n,c=t.members.find(e=>e.memberId===r.streamlabscharityId),l=(c?.totalAmount/100||0).toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0}),m=(t.totalRaised/100).toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0});return(0,d.jsxs)("div",{className:"row row--no-gutters margin--none padding--none margin-top--md donations",children:[(0,d.jsx)("div",{className:"col col--6 margin-bottom--md",children:(0,d.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:r.streamlabscharityId?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"button button--primary donate",children:"Faire un don sur sa cagnotte :"}),(0,d.jsx)("div",{className:"button button--secondary personal-pot",children:l})]}):(0,d.jsx)("button",{className:"button button--primary",children:"Faire un don pour CDC\u202f2025"})})}),(0,d.jsx)("div",{className:"col text--right margin-bottom--md",children:(0,d.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("button",{className:"button button--primary button--outline total",children:`Total r\xe9colt\xe9 : ${m}`})})})]})}function v({member:e}){const{cdc2025:t,groups:r}=e,s=e?.cdc2025?.goals??[],n=(0,i.W)();if(!t||!r?.includes(o.Y.cdc2025)||!s||0===s.length)return null;const a=n.members.find(e=>e.memberId===t.streamlabscharityId),c=a?.totalAmount/100||0;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:"margin-top--md",children:"Objectifs"}),(0,d.jsx)("table",{className:"donation-goals",children:(0,d.jsx)("tbody",{children:s.map((e,t)=>{const r=c,s=e.amount??0,n=s>0?Math.min(100,r/s*100):0;return(0,d.jsxs)("tr",{style:{"--progress":`${n}%`},children:[(0,d.jsx)("td",{className:"goal-description",children:e.description}),(0,d.jsxs)("td",{className:"goal-amount",children:[e.amount,"\u202f\u20ac"]})]},t)})})})]})}function w(){const e=(0,m.$1)(),t=(0,l.zy)(),r=(0,l.W6)(),i=(0,a.Ay)("/les-createurices"),o=(0,c.q)(),p=new URLSearchParams(t.search),[w,N]=(0,s.useState)(()=>p.getAll("group").find(e=>e in u)||null),y=function(e,t){const r=t.get("twitch");return e.find(e=>r&&e.socials?.twitch?.user_data?.login===r)}(e,p),C=function(e,t){const r=t.getAll("group").find(e=>e in u);return r?e.filter(e=>e.groups?.includes(r)):e}(e,p),{live:F,offline:I}=function(e,t){const r=[],s=[];return e.forEach(e=>{const n=e.socials?.twitch?.id;n&&t[n]?.isLive?r.push(e):s.push(e)}),r.sort((e,r)=>{const s=e.socials.twitch.id,n=r.socials.twitch.id,a=new Date(t[s]?.stream?.createdAt).getTime()||0;return(new Date(t[n]?.stream?.createdAt).getTime()||0)-a}),{live:r,offline:s}}(C,o),$=y?.socials?.twitch?.id,A=$?o[$]:void 0,L=h(A?.stream?.createdAt),S="undefined"!=typeof window?window.location.hostname:"";(0,s.useEffect)(()=>{const e=new URLSearchParams(t.search).getAll("group").find(e=>e in u)||null;N(e)},[t.search]);return(0,d.jsx)(n.A,{children:(0,d.jsxs)("main",{className:"container container--fluid margin-vert--lg",children:[(0,d.jsx)("h1",{className:"text--center",children:"Les cr\xe9ateur\xb7ices"}),y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:(0,d.jsx)(m.OP,{member:y,name:(0,d.jsx)("h2",{className:"margin-bottom--none",children:(0,m.Vg)(y)}),subtitle:(0,d.jsxs)(d.Fragment,{children:[A?.title,A?.stream&&(0,d.jsx)(g,{gameName:A.stream.game?.displayName,viewersCount:A.viewersCount,elapsed:L})]}),size:m.vM.ExtraLarge})})}),(0,d.jsx)(b,{channelLogin:y.socials.twitch.user_data.login,parent:S}),(0,d.jsx)(f,{member:y}),(0,d.jsx)(v,{member:y})]}),(0,d.jsx)("div",{id:"filtres"}),(0,d.jsxs)("h2",{className:"margin-top--xl",children:["Filtres ",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"text--light",children:(0,d.jsxs)("small",{children:[C.length,"/",e.length," cr\xe9ateur\xb7ices"]})})]}),(0,d.jsx)(x,{activeGroup:w,onToggle:e=>{const s=new URLSearchParams(t.search);s.delete("group"),w!==e&&s.append("group",e),r.push({pathname:i,search:s.toString(),hash:"filtres"}),N(w!==e?e:null)}}),(0,d.jsx)(j,{activeGroup:w,title:"En direct en ce moment :",members:F,liveInfo:o,className:"margin-top--xl"}),(0,d.jsx)(j,{activeGroup:w,title:"D'autres cr\xe9ateur\xb7ices :",members:I,liveInfo:o,className:"margin-top--lg"})]})})}}}]);