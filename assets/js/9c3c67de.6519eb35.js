"use strict";(self.webpackChunkcreateursdecompagnie_fr=self.webpackChunkcreateursdecompagnie_fr||[]).push([[657],{5672:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var s=r(6540),a=r(9851),n=r(6025),i=r(3656),c=r(9921),l=r(6347),o=r(3032),m=r(9036),d=r(4848);const u={[o.Y.cdc2025]:"CDC\u202f2025",[o.Y.cdc2022]:"CDC\u202f2022",[o.Y.sct]:"Sans\u202fCroquettes\u202fTwitch"};function h(e){const[t,r]=(0,s.useState)("00:00");return(0,s.useEffect)(()=>{if(!e)return;const t=new Date(e);function s(){const e=Date.now()-t.getTime(),s=Math.floor(e/1e3),a=Math.floor(s/3600),n=Math.floor(s%3600/60),i=s%60,c=e=>String(e).padStart(2,"0");r(a>0?`${a}:${c(n)}:${c(i)}`:`${n}:${c(i)}`)}s();const a=setInterval(s,1e3);return()=>clearInterval(a)},[e]),t}function g({gameName:e,viewersCount:t,elapsed:r,centered:s=!1}){return(0,d.jsxs)("div",{className:"margin-top--sm "+(s?"text--center":""),children:[e&&(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83c\udfae ",e]}),void 0!==t&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83d\udc41\ufe0f ",t]})]}),r&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\u23f1\ufe0f ",r]})]})]})}function p({member:e,liveInfo:t,activeGroup:r}){const s=e.socials?.twitch?.id,a=s?t[s]:void 0,n=h(a?.stream?.createdAt),i=(0,m.u3)(e,r);return(0,d.jsx)("a",{href:i,className:"text--no-decoration text--color-content",children:(0,d.jsxs)("div",{className:"card margin-bottom--lg shadow--tl",children:[(0,d.jsx)("div",{className:"card__header text--center",children:(0,d.jsx)("h3",{children:(0,m.Vg)(e)})}),(0,d.jsxs)("div",{className:"card__body",children:[(0,d.jsx)(m.OP,{member:e,size:m.vM.ExtraLarge,orientation:m.Ap.Vertical,className:"margin-bottom--sm"}),a?.stream&&(0,d.jsx)(g,{gameName:a.stream.game?.displayName,viewersCount:a.viewersCount,elapsed:n,centered:!0})]})]})})}function x({activeGroup:e,onToggle:t}){return(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:Object.entries(u).map(([r,s])=>{const a=r,n=e===a;return(0,d.jsx)("button",{className:"button button--secondary margin-right--sm margin-bottom--sm "+(n?"":"button--outline"),onClick:()=>t(a),children:s},a)})})})}function f({title:e,members:t,liveInfo:r,className:s="",activeGroup:a}){return 0===t.length?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:s,children:e}),(0,d.jsx)("div",{className:"row",children:t.map(e=>(0,d.jsx)("div",{className:"col col--3",children:(0,d.jsx)(p,{member:e,liveInfo:r,activeGroup:a})},e.id))})]})}function j({channelLogin:e,parent:t}){return(0,d.jsxs)("div",{className:"row row--no-gutters margin--none padding--none twitch-live-modules",children:[(0,d.jsx)("div",{className:"col col--8 player",children:(0,d.jsx)("iframe",{src:`https://player.twitch.tv/?channel=${e}&muted=false&parent=${t}`,height:"100%",width:"100%",allowFullScreen:!0,title:"Twitch Live Player"})}),(0,d.jsx)("div",{className:"col chat",children:(0,d.jsx)("iframe",{title:"TwitchChat",height:"100%",width:"100%",src:`https://www.twitch.tv/embed/${e}/chat?darkpopout&parent=${t}`})})]})}function v({member:e}){const t=(0,c.W)(),{cdc2025:r,groups:s}=e;if(!r||!s?.includes(o.Y.cdc2025))return null;const a="https://streamlabscharity.com/teams/@createurs-de-compagnie-2025/cdc2025",n=r.streamlabscharityId?`${a}?member=${r.streamlabscharityId}`:a,i=t.members.find(e=>e.memberId===r.streamlabscharityId),l=(i?.totalAmount/100||0).toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0}),m=(t.totalRaised/100).toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0});return(0,d.jsxs)("div",{className:"row row--no-gutters margin--none padding--none margin-top--md donations",children:[(0,d.jsx)("div",{className:"col col--6 margin-bottom--md",children:(0,d.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:r.streamlabscharityId?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"button button--primary donate",children:"Faire un don sur sa cagnotte :"}),(0,d.jsx)("div",{className:"button button--secondary personal-pot",children:l})]}):(0,d.jsx)("button",{className:"button button--primary",children:"Faire un don pour CDC\u202f2025"})})}),(0,d.jsx)("div",{className:"col text--right",children:(0,d.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("button",{className:"button button--primary button--outline",children:`Total r\xe9colt\xe9 : ${m}`})})})]})}function b(){const e=(0,m.$1)(),t=(0,l.zy)(),r=(0,l.W6)(),c=(0,n.Ay)("/les-createurices"),o=(0,i.q)(),p=new URLSearchParams(t.search),[b,w]=(0,s.useState)(()=>p.getAll("group").find(e=>e in u)||null),N=function(e,t){const r=t.get("twitch");return e.find(e=>r&&e.socials?.twitch?.user_data?.login===r)}(e,p),y=function(e,t){const r=t.getAll("group").find(e=>e in u);return r?e.filter(e=>e.groups?.includes(r)):e}(e,p),{live:C,offline:F}=function(e,t){const r=[],s=[];return e.forEach(e=>{const a=e.socials?.twitch?.id;a&&t[a]?.isLive?r.push(e):s.push(e)}),r.sort((e,r)=>{const s=e.socials.twitch.id,a=r.socials.twitch.id,n=new Date(t[s]?.stream?.createdAt).getTime()||0;return(new Date(t[a]?.stream?.createdAt).getTime()||0)-n}),{live:r,offline:s}}(y,o),$=N?.socials?.twitch?.id,I=$?o[$]:void 0,L=h(I?.stream?.createdAt),S="undefined"!=typeof window?window.location.hostname:"";(0,s.useEffect)(()=>{const e=new URLSearchParams(t.search).getAll("group").find(e=>e in u)||null;w(e)},[t.search]);return(0,d.jsx)(a.A,{children:(0,d.jsxs)("main",{className:"container container--fluid margin-vert--lg",children:[(0,d.jsx)("h1",{className:"text--center",children:"Les cr\xe9ateur\xb7ices"}),N&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:(0,d.jsx)(m.OP,{member:N,name:(0,m.Vg)(N),subtitle:(0,d.jsxs)(d.Fragment,{children:[I?.title,I?.stream&&(0,d.jsx)(g,{gameName:I.stream.game?.displayName,viewersCount:I.viewersCount,elapsed:L})]}),size:m.vM.ExtraLarge})})}),(0,d.jsx)(j,{channelLogin:N.socials.twitch.user_data.login,parent:S}),(0,d.jsx)(v,{member:N})]}),(0,d.jsx)("div",{id:"filtres"}),(0,d.jsxs)("h2",{className:"margin-top--xl",children:["Filtres ",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"text--light",children:(0,d.jsxs)("small",{children:[y.length,"/",e.length," cr\xe9ateur\xb7ices"]})})]}),(0,d.jsx)(x,{activeGroup:b,onToggle:e=>{const s=new URLSearchParams(t.search);s.delete("group"),b!==e&&s.append("group",e),r.push({pathname:c,search:s.toString(),hash:"filtres"}),w(b!==e?e:null)}}),(0,d.jsx)(f,{activeGroup:b,title:"En direct en ce moment :",members:C,liveInfo:o,className:"margin-top--xl"}),(0,d.jsx)(f,{activeGroup:b,title:"D'autres cr\xe9ateur\xb7ices :",members:F,liveInfo:o,className:"margin-top--lg"})]})})}}}]);