"use strict";(self.webpackChunkcreateursdecompagnie_fr=self.webpackChunkcreateursdecompagnie_fr||[]).push([[657],{5672:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(6540),r=s(9851),n=s(6025),i=s(3656),c=s(6347),l=s(3032),o=s(9036),d=s(4848);const m={[l.Y.cdc2025]:"CDC 2025",[l.Y.cdc2022]:"CDC 2022",[l.Y.sct]:"Sans Croquettes Twitch"};function h(e){const[t,s]=(0,a.useState)("00:00");return(0,a.useEffect)(()=>{if(!e)return;const t=new Date(e);function a(){const e=Date.now()-t.getTime(),a=Math.floor(e/1e3),r=Math.floor(a/3600),n=Math.floor(a%3600/60),i=a%60,c=e=>String(e).padStart(2,"0");s(r>0?`${r}:${c(n)}:${c(i)}`:`${n}:${c(i)}`)}a();const r=setInterval(a,1e3);return()=>clearInterval(r)},[e]),t}function u({gameName:e,viewersCount:t,elapsed:s,centered:a=!1}){return(0,d.jsxs)("div",{className:"margin-top--sm "+(a?"text--center":""),children:[e&&(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83c\udfae ",e]}),void 0!==t&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\ud83d\udc41\ufe0f ",t]})]}),s&&(0,d.jsxs)(d.Fragment,{children:["\xa0",(0,d.jsxs)("span",{className:"badge badge--transparent",children:["\u23f1\ufe0f ",s]})]})]})}function g({member:e,liveInfo:t}){const s=e.socials?.twitch?.id,a=s?t[s]:void 0,r=h(a?.stream?.createdAt);return(0,d.jsxs)("div",{className:"card margin-bottom--lg shadow--tl",children:[(0,d.jsx)("div",{className:"card__header text--center",children:(0,d.jsx)("h3",{children:e.name})}),(0,d.jsxs)("div",{className:"card__body",children:[(0,d.jsx)(o.OP,{member:e,size:o.vM.ExtraLarge,orientation:o.Ap.Vertical,className:"margin-bottom--sm"}),a?.stream&&(0,d.jsx)(u,{gameName:a.stream.game?.displayName,viewersCount:a.viewersCount,elapsed:r,centered:!0})]})]})}function p({activeGroups:e,onToggle:t}){return(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:Object.entries(m).map(([s,a])=>{const r=s,n=e.includes(r);return(0,d.jsx)("button",{className:"button button--secondary margin-right--sm "+(n?"":"button--outline"),onClick:()=>t(r),children:a},r)})})})}function x({title:e,members:t,liveInfo:s,className:a=""}){return 0===t.length?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:a,children:e}),(0,d.jsx)("div",{className:"row",children:t.map(e=>(0,d.jsx)("div",{className:"col col--3",children:(0,d.jsx)(g,{member:e,liveInfo:s})},e.id))})]})}function f({channelLogin:e,parent:t}){return(0,d.jsxs)("div",{className:"row row--no-gutters margin--none padding--none",style:{border:"4px solid var(--ifm-color-primary)",borderRadius:"5px",overflow:"hidden"},children:[(0,d.jsx)("div",{className:"col col--8",style:{minHeight:"30rem",aspectRatio:"16/9"},children:(0,d.jsx)("iframe",{src:`https://player.twitch.tv/?channel=${e}&muted=false&parent=${t}`,height:"100%",width:"100%",allowFullScreen:!0,title:"Twitch Live Player",style:{display:"block"}})}),(0,d.jsx)("div",{className:"col",style:{minHeight:"25rem"},children:(0,d.jsx)("iframe",{title:"TwitchChat",height:"100%",width:"100%",src:`https://www.twitch.tv/embed/${e}/chat?darkpopout&parent=${t}`})})]})}function v(){const e=(0,o.$1)(),t=(0,c.zy)(),s=(0,c.W6)(),a=(0,n.Ay)("/les-createurices"),l=(0,i.q)(),g=new URLSearchParams(t.search),v=g.getAll("group"),j=function(e,t){const s=t.get("twitch");return e.find(e=>s&&e.socials?.twitch?.user_data?.login===s)}(e,g),w=function(e,t){const s=t.getAll("group").filter(e=>e in m);return 0===s.length?e:e.filter(e=>e.groups?.some(e=>s.includes(e)))}(e,g),{live:N,offline:b}=function(e,t){const s=[],a=[];return e.forEach(e=>{const r=e.socials?.twitch?.id;r&&t[r]?.isLive?s.push(e):a.push(e)}),s.sort((e,s)=>{const a=e.socials.twitch.id,r=s.socials.twitch.id,n=new Date(t[a]?.stream?.createdAt).getTime()||0;return(new Date(t[r]?.stream?.createdAt).getTime()||0)-n}),{live:s,offline:a}}(w,l),y=j?.socials?.twitch?.id,C=y?l[y]:void 0,$=h(C?.stream?.createdAt),A="undefined"!=typeof window?window.location.hostname:"";return(0,d.jsx)(r.A,{children:(0,d.jsxs)("main",{className:"container container--fluid margin-vert--lg",children:[(0,d.jsx)("h1",{className:"text--center",children:"Les cr\xe9ateur\xb7ices"}),j&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"row margin-vert--lg",children:(0,d.jsx)("div",{className:"col",children:(0,d.jsx)(o.OP,{member:j,name:j.name,subtitle:(0,d.jsxs)(d.Fragment,{children:[C?.title,C?.stream&&(0,d.jsx)(u,{gameName:C.stream.game?.displayName,viewersCount:C.viewersCount,elapsed:$})]}),size:o.vM.ExtraLarge})})}),(0,d.jsx)(f,{channelLogin:j.socials.twitch.user_data.login,parent:A})]}),(0,d.jsx)("div",{id:"filtres"}),(0,d.jsxs)("h2",{className:"margin-top--xl",children:["Filtres ",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"text--light",children:(0,d.jsxs)("small",{children:[w.length,"/",e.length," cr\xe9ateur\xb7ices"]})})]}),(0,d.jsx)(p,{activeGroups:v,onToggle:e=>{const r=new URLSearchParams(t.search);v.includes(e)?(r.delete("group"),v.filter(t=>t!==e).forEach(e=>r.append("group",e))):r.append("group",e),s.push({pathname:a,search:r.toString(),hash:"filtres"})}}),(0,d.jsx)(x,{title:"En direct en ce moment :",members:N,liveInfo:l,className:"margin-top--xl"}),(0,d.jsx)(x,{title:"D'autres cr\xe9ateur\xb7ices :",members:b,liveInfo:l,className:"margin-top--lg"})]})})}}}]);