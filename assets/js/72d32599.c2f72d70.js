"use strict";(self.webpackChunkcreateursdecompagnie_fr=self.webpackChunkcreateursdecompagnie_fr||[]).push([[998],{2730:(e,t,r)=>{r.d(t,{q:()=>v,A:()=>P});var n=r(6540),a=r(8478),s=r(6347),o=r(4586),i=r(4848);const c=({params:e})=>{const{siteConfig:t}=(0,o.A)(),r=t.baseUrl,[a,s]=(0,n.useState)(!1),c=new URL(`${r}widgets${e?"?"+e:""}`,window.location.origin).toString();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"\ud83d\udccb Lien g\xe9n\xe9r\xe9"}),(0,i.jsx)("div",{className:"alert alert--secondary margin-bottom--md",children:c}),(0,i.jsxs)("div",{className:"button-group button-group--block",children:[(0,i.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(c),s(!0),setTimeout(()=>s(!1),2e3)},className:"button button--primary",children:"\ud83d\udccb Copier"}),(0,i.jsx)("button",{onClick:()=>{window.open(c,"_blank")},className:"button button--secondary",children:"\ud83d\udd17 Ouvrir"})]}),a&&(0,i.jsx)("div",{className:"margin-top--sm text--center text--semibold",children:"\u2713 Copi\xe9!"})]})};var l=r(9921);const d="showCents",u="textColor",h="accentColor",m="shadowIntensity",w=!1,g="#ffffff",p="#FCA000",x=.4,f=(e,t)=>{const r=parseFloat(e||"");return isNaN(r)?t:r};const S={id:"cagnotte",displayName:"Cagnotte",component:()=>{const e=function(){const[e,t]=(0,n.useState)(new URLSearchParams(window.location.search));return(0,n.useEffect)(()=>{const e=()=>t(new URLSearchParams(window.location.search));window.addEventListener("popstate",e);const r=window.history.replaceState;return window.history.replaceState=function(...e){r.apply(this,e),t(new URLSearchParams(window.location.search))},()=>{window.removeEventListener("popstate",e),window.history.replaceState=r}},[]),e}(),t=(0,l.W)().totalRaised/100||0,r="true"===e.get(d)||"1"===e.get(d)||w,a=e.get(u)||g,s=e.get(h)||p,o=f(e.get(m),x),[c,S]=(0,n.useState)(t),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=c,r=t-e,n=performance.now(),a=t=>{const s=t-n,o=Math.min(s/1500,1),i=1-Math.pow(1-o,3);S(e+r*i),o<1&&(b.current=requestAnimationFrame(a))};return b.current&&cancelAnimationFrame(b.current),b.current=requestAnimationFrame(a),()=>b.current&&cancelAnimationFrame(b.current)},[t]);return(0,i.jsx)("div",{style:{color:a,textShadow:((e,t)=>{const r=e.replace("#",""),n=parseInt(r.slice(0,2),16),a=parseInt(r.slice(2,4),16),s=parseInt(r.slice(4,6),16);return`0 0 20px rgba(${n},${a},${s},${.4*t}), 0 0 40px rgba(${n},${a},${s},${.2*t})`})(s,o),fontFamily:"'Outfit', ui-sans-serif, system-ui",fontWeight:900,fontSize:"clamp(2em, 8vw, 5em)",letterSpacing:"-1px",lineHeight:1,textAlign:"center",padding:"1rem",minWidth:"200px",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.5))"},children:(j=c,new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:r?2:0,maximumFractionDigits:r?2:0}).format(j))});var j},editor:()=>{const e=new URLSearchParams(window.location.search),[t,r]=(0,n.useState)(()=>{const t=e.get(d);return"true"===t||"1"===t||w}),[a,s]=(0,n.useState)(()=>e.get(u)||g),[o,l]=(0,n.useState)(()=>e.get(h)||p),[b,j]=(0,n.useState)(()=>f(e.get(m),x));(0,n.useEffect)(()=>{const e=new URL(window.location.href);e.searchParams.set("widget",S.id),t!==w?e.searchParams.set(d,t.toString()):e.searchParams.delete(d),a!==g?e.searchParams.set(u,a):e.searchParams.delete(u),o!==p?e.searchParams.set(h,o):e.searchParams.delete(h),b!==x?e.searchParams.set(m,b.toString()):e.searchParams.delete(m),window.history.replaceState(null,"",e.toString())},[t,a,o,b]);const y=new URLSearchParams({widget:S.id,...t!==w?{showCents:t.toString()}:{},...a!==g?{textColor:a}:{},...o!==p?{accentColor:o}:{},...b!==x?{shadowIntensity:b.toString()}:{}}).toString();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Couleurs"}),(0,i.jsxs)("label",{children:["Afficher les centimes:",(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:e=>r(e.target.checked)})]}),(0,i.jsxs)("label",{children:["Couleur du texte:",(0,i.jsx)("input",{type:"color",value:a,onChange:e=>s(e.target.value)})]}),(0,i.jsxs)("label",{children:["Couleur accent (ombre):",(0,i.jsx)("input",{type:"color",value:o,onChange:e=>l(e.target.value)})]}),(0,i.jsxs)("label",{children:["Intensit\xe9 de l'ombre (0-1):",(0,i.jsx)("input",{type:"range",min:0,max:1,step:.01,value:b,onChange:e=>j(f(e.target.value,x))})]}),(0,i.jsx)(c,{params:y})]})}},b="myCustomParam",j=!1;const y={id:"barre",displayName:"Barre",component:()=>{const e=function(){const[e,t]=(0,n.useState)(new URLSearchParams(window.location.search));return(0,n.useEffect)(()=>{const e=()=>t(new URLSearchParams(window.location.search));window.addEventListener("popstate",e);const r=window.history.replaceState;return window.history.replaceState=function(...e){r.apply(this,e),t(new URLSearchParams(window.location.search))},()=>{window.removeEventListener("popstate",e),window.history.replaceState=r}},[]),e}(),t="true"===e.get(b)||"1"===e.get(b)||j;return(0,i.jsxs)("div",{children:["Ma barre, valeur de myCustomParam: '",t.toString(),"'"]})},editor:()=>{const e=new URLSearchParams(window.location.search),[t,r]=(0,n.useState)(()=>{const t=e.get(b);return"true"===t||"1"===t||j});(0,n.useEffect)(()=>{const e=new URL(window.location.href);e.searchParams.set("widget",y.id),t!==j?e.searchParams.set(b,t.toString()):e.searchParams.delete(b),window.history.replaceState(null,"",e.toString())},[t]);const a=new URLSearchParams({widget:"barre",...t!==j?{myCustomParam:t.toString()}:{}}).toString();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Options"}),(0,i.jsxs)("label",{children:["Param\xe8tre custom:",(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:e=>r(e.target.checked)})]}),(0,i.jsx)(c,{params:a})]})}},v=[S,y],P=({id:e})=>{const t=new URLSearchParams(location.search),r=e??t.get("widget");if(!r)return(0,i.jsx)(s.rd,{to:"/widgets/editor"});const n=v.find(e=>e.id==r);if(!n)return(0,i.jsx)("div",{className:"alert alert--danger margin--lg",role:"alert",children:"Erreur: Widget inconnu"});const o=n.component;return(0,i.jsx)(a.A,{children:()=>(0,i.jsx)(o,{})})}},8478:(e,t,r)=>{r.d(t,{A:()=>s});r(6540);var n=r(2303),a=r(4848);function s({children:e,fallback:t}){return(0,n.A)()?(0,a.jsx)(a.Fragment,{children:e?.()}):t??null}},9480:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});r(6540);var n=r(8478),a=r(2730),s=r(4848);function o(){return(0,s.jsx)(n.A,{children:()=>(0,s.jsx)(a.A,{})})}}}]);